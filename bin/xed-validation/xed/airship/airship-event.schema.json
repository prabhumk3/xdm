{
    "$id": "airship-event.schema.json",
    "$schema": "http://json-schema.org/draft-06/schema#",
    "title": "Airship Event Mixin",
    "description": "Airship gathers engagement data that can help you better understand how your audience uses and reacts to your apps and messages. This mixin groups standard mixins that can be used describe Airship's standard engagement events. Any non-standard fields should be added as needed.",
    "type": "object",
    "meta:extensible": true,
    "meta:status": [
        "experimental",
        "stable"
    ],
    "meta:xdmType": "object",
    "meta:abstract": true,
    "properties": {
        "_airship": {
            "type": "object",
            "meta:xdmType": "object",
            "properties": {
                "offsetID": {
                    "title": "Event Offset Id",
                    "type": "string",
                    "description": "An identifier that represents the events location in the Airship event stream and can be used for troubleshooting or handling duplicate events.",
                    "meta:xdmType": "string",
                    "meta:xdmField": "airship:offsetID",
                    "tagNumber": 1
                },
                "device": {
                    "title": "Airship Device",
                    "description": "Contains Airship specific device attributes.",
                    "type": "object",
                    "meta:xdmType": "object",
                    "properties": {
                        "_airship": {
                            "attributes": {
                                "title": "Airship Device Attributes",
                                "description": "Attributes specific to devices in Airship.",
                                "type": "object",
                                "meta:xdmType": "object",
                                "properties": {
                                    "_airship": {
                                        "localeVariant": {
                                            "title": "Airship Locale Variant",
                                            "description": "The language locale variant if one is reported for the device..",
                                            "type": "string",
                                            "meta:xdmType": "string",
                                            "meta:xdmField": "airship:localeVariant",
                                            "tagNumber": 1
                                        },
                                        "uaSdkVersion": {
                                            "title": "Airship SDK Version",
                                            "description": "The version of the Airship SDK used in the app.",
                                            "type": "string",
                                            "meta:xdmType": "string",
                                            "meta:xdmField": "airship:uaSdkVersion",
                                            "tagNumber": 2
                                        },
                                        "tagNumber": 1
                                    }
                                },
                                "meta:xdmField": "airship:attributes",
                                "tagNumber": 1
                            },
                            "tagNumber": 1
                        }
                    },
                    "meta:xdmField": "airship:device",
                    "tagNumber": 2
                },
                "body": {
                    "title": "Airship Event Body",
                    "description": "Contains Airship specific event body fields.",
                    "type": "object",
                    "meta:xdmType": "object",
                    "properties": {
                        "_airship": {
                            "pushID": {
                                "title": "Push ID",
                                "description": "A unique identifier for a push operation.",
                                "type": "string",
                                "meta:xdmType": "string",
                                "meta:xdmField": "airship:pushID",
                                "tagNumber": 1
                            },
                            "groupID": {
                                "title": "Airship Group ID",
                                "description": "Identifies a push delivered over an interval of time, e.g. multiple push_ids as part of the fulfillment of an automation or a push-to-local-time specification.",
                                "type": "string",
                                "meta:xdmType": "string",
                                "meta:xdmField": "airship:groupID",
                                "tagNumber": 2
                            },
                            "variantID": {
                                "title": "Airship Variant ID",
                                "description": "The ID of the variant that a push is associated with, if the push was a part of an A/B test (experiment).",
                                "type": "string",
                                "meta:xdmType": "string",
                                "meta:xdmField": "airship:variantID",
                                "tagNumber": 3
                            },
                            "alerting": {
                                "title": "Alerting Push",
                                "description": "If true, the send event was alerting. Alerting send event has notification text, badge, or sound.",
                                "type": "boolean",
                                "meta:xdmType": "boolean",
                                "meta:xdmField": "airship:alerting",
                                "tagNumber": 4
                            },
                            "triggeringPush": {
                                "title": "Triggering Push",
                                "description": "The specific push notification details associated with an event. An associated push helps you trace an event to the original notification or operation.An associated push object may specify a `time`, if the push was a singular operation sent at a defined time. Otherwise, the object will include a `group_id` if the push was sent at a relative time (`best_time` or `local_time`) an automation pipeline, or another operation resulting in multiple `push_id`s.",
                                "type": "object",
                                "meta:xdmType": "object",
                                "properties": {
                                    "_airship": {
                                        "campaign": {
                                            "title": "Airship Campaigns",
                                            "description": "An object listing the campaigns a push specification is associated with. The campaigns object includes an array of categories that must have between 1 and 10 elements, each of which is a string with a 64-byte limit.",
                                            "type": "object",
                                            "meta:xdmType": "object",
                                            "properties": {
                                                "_airship": {
                                                    "campaigns": {
                                                        "title": "Airship Campaigns",
                                                        "description": "An object listing the campaigns a push specification is associated with.",
                                                        "type": "object",
                                                        "isRequired": false,
                                                        "meta:xdmType": "object",
                                                        "properties": {
                                                            "_airship": {
                                                                "categories": {
                                                                    "title": "Airship Campaign Categories",
                                                                    "description": "An array of categories that must have between 1 and 10 elements, each of which is a string with a 64-byte limit.",
                                                                    "type": "array",
                                                                    "minItems": 1,
                                                                    "maxItems": 10,
                                                                    "meta:xdmType": "array",
                                                                    "items": {
                                                                        "type": "string",
                                                                        "maxLength": 64,
                                                                        "meta:xdmType": "string",
                                                                        "tagNumber": 1
                                                                    },
                                                                    "meta:xdmField": "airship:categories",
                                                                    "tagNumber": 1
                                                                },
                                                                "tagNumber": 1
                                                            }
                                                        },
                                                        "meta:xdmField": "airship:campaigns",
                                                        "tagNumber": 1
                                                    },
                                                    "tagNumber": 1
                                                }
                                            },
                                            "meta:xdmField": "airship:campaign",
                                            "tagNumber": 1
                                        },
                                        "pushID": {
                                            "title": "Push ID",
                                            "description": "A unique identifier for a push operation.",
                                            "type": "string",
                                            "meta:xdmType": "string",
                                            "meta:xdmField": "airship:pushID",
                                            "tagNumber": 2
                                        },
                                        "groupID": {
                                            "title": "Airship Group ID",
                                            "description": "Identifies a push delivered over an interval of time, e.g. multiple push_ids as part of the fulfillment of an automation or a push-to-local-time specification.",
                                            "type": "string",
                                            "meta:xdmType": "string",
                                            "meta:xdmField": "airship:groupID",
                                            "tagNumber": 3
                                        },
                                        "variantID": {
                                            "title": "Airship Variant ID",
                                            "description": "The ID of the variant that a push is associated with, if the push was a part of an A/B test (experiment).",
                                            "type": "string",
                                            "meta:xdmType": "string",
                                            "meta:xdmField": "airship:variantID",
                                            "tagNumber": 4
                                        },
                                        "pushTime": {
                                            "title": "Push Time",
                                            "description": "The UTC time when the push occurred.",
                                            "type": "string",
                                            "format": "date-time",
                                            "meta:xdmType": "date-time",
                                            "meta:xdmField": "airship:pushTime",
                                            "tagNumber": 5
                                        },
                                        "tagNumber": 1
                                    }
                                },
                                "meta:xdmField": "airship:triggeringPush",
                                "tagNumber": 5
                            },
                            "lastDelivered": {
                                "title": "Last Delivered",
                                "description": "Identifies the last push notification the audience received before the event. Absent if the last push occurred more than 12 hours ago.",
                                "type": "object",
                                "meta:xdmType": "object",
                                "properties": {
                                    "_airship": {
                                        "campaign": {
                                            "title": "Airship Campaigns",
                                            "description": "An object listing the campaigns a push specification is associated with. The campaigns object includes an array of categories that must have between 1 and 10 elements, each of which is a string with a 64-byte limit.",
                                            "type": "object",
                                            "meta:xdmType": "object",
                                            "properties": {
                                                "_airship": {
                                                    "campaigns": {
                                                        "title": "Airship Campaigns",
                                                        "description": "An object listing the campaigns a push specification is associated with.",
                                                        "type": "object",
                                                        "isRequired": false,
                                                        "meta:xdmType": "object",
                                                        "properties": {
                                                            "_airship": {
                                                                "categories": {
                                                                    "title": "Airship Campaign Categories",
                                                                    "description": "An array of categories that must have between 1 and 10 elements, each of which is a string with a 64-byte limit.",
                                                                    "type": "array",
                                                                    "minItems": 1,
                                                                    "maxItems": 10,
                                                                    "meta:xdmType": "array",
                                                                    "items": {
                                                                        "type": "string",
                                                                        "maxLength": 64,
                                                                        "meta:xdmType": "string",
                                                                        "tagNumber": 1
                                                                    },
                                                                    "meta:xdmField": "airship:categories",
                                                                    "tagNumber": 1
                                                                },
                                                                "tagNumber": 1
                                                            }
                                                        },
                                                        "meta:xdmField": "airship:campaigns",
                                                        "tagNumber": 1
                                                    },
                                                    "tagNumber": 1
                                                }
                                            },
                                            "meta:xdmField": "airship:campaign",
                                            "tagNumber": 1
                                        },
                                        "pushID": {
                                            "title": "Push ID",
                                            "description": "A unique identifier for a push operation.",
                                            "type": "string",
                                            "meta:xdmType": "string",
                                            "meta:xdmField": "airship:pushID",
                                            "tagNumber": 2
                                        },
                                        "groupID": {
                                            "title": "Airship Group ID",
                                            "description": "Identifies a push delivered over an interval of time, e.g. multiple push_ids as part of the fulfillment of an automation or a push-to-local-time specification.",
                                            "type": "string",
                                            "meta:xdmType": "string",
                                            "meta:xdmField": "airship:groupID",
                                            "tagNumber": 3
                                        },
                                        "variantID": {
                                            "title": "Airship Variant ID",
                                            "description": "The ID of the variant that a push is associated with, if the push was a part of an A/B test (experiment).",
                                            "type": "string",
                                            "meta:xdmType": "string",
                                            "meta:xdmField": "airship:variantID",
                                            "tagNumber": 4
                                        },
                                        "pushTime": {
                                            "title": "Push Time",
                                            "description": "The UTC time when the push occurred.",
                                            "type": "string",
                                            "format": "date-time",
                                            "meta:xdmType": "date-time",
                                            "meta:xdmField": "airship:pushTime",
                                            "tagNumber": 5
                                        },
                                        "tagNumber": 1
                                    }
                                },
                                "meta:xdmField": "airship:lastDelivered",
                                "tagNumber": 6
                            },
                            "campaign": {
                                "title": "Airship Campaigns",
                                "description": "An object listing the campaigns a push specification is associated with. The campaigns object includes an array of categories that must have between 1 and 10 elements, each of which is a string with a 64-byte limit.",
                                "type": "object",
                                "meta:xdmType": "object",
                                "properties": {
                                    "_airship": {
                                        "campaigns": {
                                            "title": "Airship Campaigns",
                                            "description": "An object listing the campaigns a push specification is associated with.",
                                            "type": "object",
                                            "isRequired": false,
                                            "meta:xdmType": "object",
                                            "properties": {
                                                "_airship": {
                                                    "categories": {
                                                        "title": "Airship Campaign Categories",
                                                        "description": "An array of categories that must have between 1 and 10 elements, each of which is a string with a 64-byte limit.",
                                                        "type": "array",
                                                        "minItems": 1,
                                                        "maxItems": 10,
                                                        "meta:xdmType": "array",
                                                        "items": {
                                                            "type": "string",
                                                            "maxLength": 64,
                                                            "meta:xdmType": "string",
                                                            "tagNumber": 1
                                                        },
                                                        "meta:xdmField": "airship:categories",
                                                        "tagNumber": 1
                                                    },
                                                    "tagNumber": 1
                                                }
                                            },
                                            "meta:xdmField": "airship:campaigns",
                                            "tagNumber": 1
                                        },
                                        "tagNumber": 1
                                    }
                                },
                                "meta:xdmField": "airship:campaign",
                                "tagNumber": 7
                            },
                            "complianceEventType": {
                                "title": "Compliance Event Type",
                                "description": "The type of compliance event for proving data-safety regulation compliance for email and SMS channel-related events.",
                                "type": "string",
                                "enum": [
                                    "bounce",
                                    "create_and_send",
                                    "registration",
                                    "api_initiate_opt_in",
                                    "carrier_deactivation",
                                    "custom_keyword_response",
                                    "mobile_create_channel",
                                    "mobile_keyword_matched",
                                    "mobile_keyword_unmatched",
                                    "mobile_opt_in",
                                    "mobile_opt_out",
                                    "mobile_terminated_message",
                                    "opted_out",
                                    "uninstall"
                                ],
                                "meta:xdmType": "string",
                                "meta:xdmField": "airship:complianceEventType",
                                "tagNumber": 8
                            },
                            "complianceProperties": {
                                "title": "Compliance Event Properties",
                                "description": "Additional properties for a compliance event.",
                                "type": "object",
                                "meta:xdmType": "object",
                                "properties": {
                                    "_airship": {
                                        "messageType": {
                                            "title": "Message Type",
                                            "description": "The message type that the user unsubscribed from",
                                            "type": "string",
                                            "enum": [
                                                "unsubscribe",
                                                "commercial"
                                            ],
                                            "meta:xdmType": "string",
                                            "meta:xdmField": "airship:messageType",
                                            "tagNumber": 1
                                        },
                                        "registrationType": {
                                            "title": "Registration Type",
                                            "description": "The type of change to a registration status.",
                                            "type": "string",
                                            "enum": [
                                                "create",
                                                "update",
                                                "unsubscribe"
                                            ],
                                            "meta:xdmType": "string",
                                            "meta:xdmField": "airship:registrationType",
                                            "tagNumber": 2
                                        },
                                        "commercialOptedIn": {
                                            "title": "Commercial Opted In Date",
                                            "description": "The date and time when the user opted into commercial email messages.",
                                            "type": "string",
                                            "format": "date-time",
                                            "meta:xdmType": "date-time",
                                            "meta:xdmField": "airship:commercialOptedIn",
                                            "tagNumber": 3
                                        },
                                        "bounceClass": {
                                            "title": "Bounce Class",
                                            "description": "The bounce classification as provided by Airship email partners.",
                                            "type": "number",
                                            "meta:xdmType": "number",
                                            "meta:xdmField": "airship:bounceClass",
                                            "tagNumber": 4
                                        },
                                        "bounceEmail": {
                                            "title": "Bounce Email Address",
                                            "description": "The email address that bounced.",
                                            "type": "string",
                                            "meta:xdmType": "string",
                                            "meta:xdmField": "airship:bounceEmail",
                                            "tagNumber": 5
                                        },
                                        "bounceSender": {
                                            "title": "Bounce Sender",
                                            "description": "The address that the bounced email came from (typically the sender address for your project in Airship).",
                                            "type": "string",
                                            "meta:xdmType": "string",
                                            "meta:xdmField": "airship:bounceSender",
                                            "tagNumber": 6
                                        },
                                        "bounceSubject": {
                                            "title": "Bounce Subject",
                                            "description": "The subject line of the bounced email.",
                                            "type": "string",
                                            "meta:xdmType": "string",
                                            "meta:xdmField": "airship:bounceSubject",
                                            "tagNumber": 7
                                        },
                                        "tagNumber": 1
                                    }
                                },
                                "meta:xdmField": "airship:complianceProperties",
                                "tagNumber": 9
                            },
                            "regionAction": {
                                "title": "Region/Geofence Action",
                                "description": "Indicates whether the event was the result of a user entering or exiting the region.",
                                "type": "string",
                                "enum": [
                                    "enter",
                                    "exit"
                                ],
                                "meta:xdmType": "string",
                                "meta:xdmField": "airship:regionAction",
                                "tagNumber": 10
                            },
                            "regionName": {
                                "title": "Region/Geofence Name",
                                "description": "A friendly name for the region or geofence; may be provided from a third-party location partner.",
                                "type": "string",
                                "meta:xdmType": "string",
                                "meta:xdmField": "airship:regionName",
                                "tagNumber": 11
                            },
                            "regionID": {
                                "title": "Region/Geofence Identifier",
                                "description": "The unique region identifier from the originating system or location partner.",
                                "type": "string",
                                "meta:xdmType": "string",
                                "meta:xdmField": "airship:regionID",
                                "tagNumber": 12
                            },
                            "tagNumber": 1
                        }
                    },
                    "meta:xdmField": "airship:body",
                    "tagNumber": 3
                }
            },
            "tagNumber": 1
        },
        "identityMap": {
            "type": "object",
            "meta:xdmType": "map",
            "additionalProperties": {
                "type": "array",
                "meta:xdmType": "array",
                "items": {
                    "$ref": "context/identityitem.schema.json",
                    "tagNumber": 1
                },
                "tagNumber": 1
            },
            "meta:xdmField": "xdm:identityMap",
            "tagNumber": 2
        },
        "extSourceSystemAudit": {
            "title": "External Source System Audit Properties",
            "$ref": "common/external-source-system-audit.schema.json",
            "description": "Audit attributes for external sources.",
            "meta:xdmField": "xdm:extSourceSystemAudit",
            "tagNumber": 3
        },
        "channel": {
            "title": "Experience channel",
            "description": "Experience channel related to the ExperienceEvent.",
            "$ref": "channels/channel.schema.json",
            "meta:xdmField": "xdm:channel",
            "tagNumber": 4
        },
        "environment": {
            "title": "Environment",
            "$ref": "context/environment.schema.json",
            "description": "Information about the surrounding situation the event observation occurred in, specifically detailing transitory information such as the network or software versions.",
            "meta:xdmField": "xdm:environment",
            "tagNumber": 5
        },
        "device": {
            "title": "Device",
            "$ref": "context/device.schema.json",
            "description": "An identified device, application or device browser instance that is trackable across sessions, normally by cookies.",
            "meta:xdmField": "xdm:device",
            "tagNumber": 6
        },
        "placeContext": {
            "title": "Place context",
            "$ref": "context/placecontext.schema.json",
            "description": "The transient circumstances related to the observation. Examples include locale specific information such as weather, local time, traffic, day of the week, workday vs. holiday, and working hours.",
            "meta:xdmField": "xdm:placeContext",
            "tagNumber": 7
        },
        "application": {
            "title": "Application",
            "$ref": "context/application.schema.json",
            "description": "This mixin is used to capture application information related to an ExperienceEvent, including the name of the application, app version, installs, launches, crashes, and closures. It could be either the application targeted by the event like the send of a push notification or the application originating the event such as a click, or a login.",
            "meta:xdmField": "xdm:application",
            "tagNumber": 8
        },
        "typeID": {
            "title": "Type identifier",
            "type": "string",
            "description": "An identifier for the device. This may be an identifier from 'DeviceAtlas' or another service that identifies the hardware that is being used.",
            "meta:xdmType": "string",
            "meta:xdmField": "xdm:typeID",
            "tagNumber": 9
        },
        "typeIDService": {
            "title": "Type identifier service",
            "type": "string",
            "format": "uri",
            "description": "The namespace of the service that is used to identify the device type.",
            "meta:xdmType": "string",
            "meta:xdmField": "xdm:typeIDService",
            "tagNumber": 10
        },
        "type": {
            "title": "Type",
            "type": "string",
            "description": "Type of device being tracked.",
            "meta:xdmType": "string",
            "meta:xdmField": "xdm:type",
            "tagNumber": 11
        },
        "manufacturer": {
            "title": "Manufacturer",
            "type": "string",
            "description": "The name of the organization who owns the design and creation of the device, for example, 'Apple' is the manufacturer of the iPhone.",
            "meta:xdmType": "string",
            "meta:xdmField": "xdm:manufacturer",
            "tagNumber": 12
        },
        "model": {
            "title": "Model",
            "type": "string",
            "description": "The name of the model for the device. This is the common, human-readable, or marketing name for the device. For example, the 'iPhone 6S' is a particular model of mobile phone.",
            "meta:xdmType": "string",
            "meta:xdmField": "xdm:model",
            "tagNumber": 13
        },
        "modelNumber": {
            "title": "Model number",
            "type": "string",
            "description": "The unique model number designation assigned by the manufacturer for this device. Model numbers are not versions, but unique identifiers that identify a particular model configuration. While the model for a particular phone might be 'iPhone 6S' the model number would be 'A1633', or 'A1634' based on configuration at the time of sale.",
            "meta:xdmType": "string",
            "meta:xdmField": "xdm:modelNumber",
            "tagNumber": 14
        },
        "screenHeight": {
            "title": "Screen height",
            "type": "integer",
            "description": "The number of vertical pixels of the device's active display in the default orientation.",
            "meta:xdmType": "int",
            "meta:xdmField": "xdm:screenHeight",
            "tagNumber": 15
        },
        "screenWidth": {
            "title": "Screen width",
            "type": "integer",
            "description": "The number of horizontal pixels of the device's active display in the default orientation.",
            "meta:xdmType": "int",
            "meta:xdmField": "xdm:screenWidth",
            "tagNumber": 16
        },
        "colorDepth": {
            "title": "Color depth",
            "type": "integer",
            "description": "The number of colors the display is able to represent.",
            "meta:xdmType": "int",
            "meta:xdmField": "xdm:colorDepth",
            "tagNumber": 17
        },
        "screenOrientation": {
            "title": "Screen orientation",
            "type": "string",
            "description": "The current screen orientation such as \"portrait\" or \"landscape\".",
            "enum": [
                "portrait",
                "landscape"
            ],
            "meta:xdmType": "string",
            "meta:xdmField": "xdm:screenOrientation",
            "tagNumber": 18
        },
        "isBackgroundPushEnabled": {
            "title": "Background Push Enabled Flag",
            "type": "boolean",
            "description": "For devices like mobile , this tracks the system background push enabled permision status.",
            "meta:xdmType": "boolean",
            "meta:xdmField": "xdm:isBackgroundPushEnabled",
            "tagNumber": 19
        },
        "isLocationEnabled": {
            "title": "Location Enabled Flag",
            "type": "boolean",
            "description": "Indicates whether or not the device has location services enabled.",
            "meta:xdmType": "boolean",
            "meta:xdmField": "xdm:isLocationEnabled",
            "tagNumber": 20
        },
        "locationPermission": {
            "title": "Location Permission",
            "type": "string",
            "description": "Tracks the device location permision attribute setting.",
            "enum": [
                "SYSTEM_LOCATION_DISABLED",
                "NOT_ALLOWED",
                "ALWAYS_ALLOWED",
                "FOREGROUND_ALLOWED",
                "UNPROMPTED"
            ],
            "meta:xdmType": "string",
            "meta:xdmField": "xdm:locationPermission",
            "tagNumber": 21
        },
        "isPushOptIn": {
            "title": "Push Opt In Flag",
            "type": "boolean",
            "description": "Indicates whether or not the device opted-in to receive push notifications.",
            "meta:xdmType": "boolean",
            "meta:xdmField": "xdm:isPushOptIn",
            "tagNumber": 22
        }
    },
    "meta:xdmId": "https://ns.airship.com/airship-event",
    "meta:altId": "_xdm.airship-event"
}